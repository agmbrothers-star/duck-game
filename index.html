<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>$DUCK Frenzy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #ffc0cb;
    font-family: Arial, sans-serif;
  }

  #hud {
    position: fixed;
    top: 10px;
    left: 10px;
    font-size: 18px;
    z-index: 10;
  }

  #duck {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 48px;
    user-select: none;
  }

  .item {
    position: fixed;
    top: -40px;
    font-size: 32px;
  }
</style>
</head>

<body>

<div id="hud">Score: 0 | Lives: 3</div>
<div id="duck">ðŸ¦†</div>

<script>
let duck = document.getElementById("duck");
let hud = document.getElementById("hud");

let score = 0;
let lives = 3;

let duckX = window.innerWidth / 2;

// âœ… DESKTOP CONTROLS
document.addEventListener("keydown", (e) => {
  if (e.key === "ArrowLeft") duckX -= 40;
  if (e.key === "ArrowRight") duckX += 40;

  duckX = Math.max(20, Math.min(window.innerWidth - 20, duckX));
  duck.style.left = duckX + "px";
});

// âœ… MOBILE / TELEGRAM TOUCH CONTROLS
document.addEventListener("touchmove", (e) => {
  duckX = e.touches[0].clientX;
  duck.style.left = duckX + "px";
}, { passive: false });

// ðŸ”½ SPAWN ITEMS
function spawnItem() {
  let item = document.createElement("div");
  item.className = "item";

  let types = ["ðŸ•", "ðŸ¦", "ðŸ¹"];
  item.textContent = types[Math.floor(Math.random() * types.length)];

  item.style.left = Math.random() * (window.innerWidth - 40) + "px";
  document.body.appendChild(item);

  let y = -40;

  let fall = setInterval(() => {
    y += 6;
    item.style.top = y + "px";

    let duckRect = duck.getBoundingClientRect();
    let itemRect = item.getBoundingClientRect();

    if (
      itemRect.bottom > duckRect.top &&
      itemRect.left < duckRect.right &&
      itemRect.right > duckRect.left
    ) {
      if (item.textContent === "ðŸ¹") {
        lives--;
      } else {
        score += 10;
      }

      updateHUD();
      clearInterval(fall);
      item.remove();
    }

    if (y > window.innerHeight) {
      clearInterval(fall);
      item.remove();
    }
  }, 30);
}

function updateHUD() {
  hud.innerText = `Score: ${score} | Lives: ${lives}`;
  if (lives <= 0) {
    alert("ðŸ¦† Game Over! Score: " + score);
    location.reload();
  }
}

setInterval(spawnItem, 900);
</script>

</body>
</html>
